var carta_instrucciones = `
<style>
*{
	background: white ;
}
</style>
<div style="page-break-before:always;width: 100% -ms-word-break: break-all;word-break: break-all;word-break: break-word;-webkit-hyphens: auto;-moz-hyphens: auto;-ms-hyphens: auto;hyphens: auto;">
	<h5 style="width: 100%;text-align: right"><b><img src="../public/img/logo.webp"></b></h5>
	<h5 style="width: 100%;text-align: center"><b>CARTA DE INSTRUCCIONES PARA DILIGENCIAR PAGARÉ No.</b></h5>
	<h5 style="width: 100%;text-align: left"><b>SEÑORES</b></h5>
	<h5 style="width: 100%;text-align: left"><b>CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF <br> LC.</b></h5>
	<p style="text-align: justify;">Ref: Autorización Para Diligenciar y Llenar Espacios en Blanco del Pagaré  </p>
	<p style="text-align: justify;">
	Yo (Nosotros): ____________________________________________________ mayor de edad, identificado con cédula de ciudadanía N°. ___________________________ expedida en ____________ , con domicilio en __________________, actuando en nombre propio  y en calidad de estudiante y DEUDOR y _________________________________________________________________ mayor de edad, identificado con cédula de ciudadanía N°. ___________________________ expedida en ____________ , con domicilio en __________________, actuando en nombre propio  y en calidad de CODEUDOR, por medio del presente pagaré, declaramos y hacemos constar que, autorizamos en forma permanente e irrevocable a <b>CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF</b>, identificada con NIT 891.408.248-5, con domicilio principal, en la ciudad de Pereira y quien en lo adelante se denominará, “EL ACREEDOR”, o por quien represente legalmente sus derechos ó a quien en el futuro ostente la calidad de ACREEDOR del presente título valor, para que haciendo uso de las facultades conferidas por el artículo 622 del Código de Comercio, llene los espacios que se han dejado en blanco en el <span style="background: yellow"> PAGARÉ No. </span>, adjunto para lo cual deberá ceñirse a las siguientes instrucciones: 

	El titular será diligenciado por EL ACREEDOR ó por quien haga sus veces, sin previo aviso y de acuerdo a las siguientes instrucciones: 
	<ol style="font-size:13px">
		<li>	El número del pagaré corresponde al que le sea asignado por EL ACREEDOR de acuerdo con su numeración interna.</li>
		<li>	El espacio correspondiente al “valor o suma cierta”, se llenará por una suma igual a la que resulte pendiente de pago de todas las obligaciones contraídas con el acreedor, por concepto de capital, intereses, cobranza judicial o extrajudicial, según la contabilidad del acreedor a la fecha en que sea llenado el pagaré, obligaciones que asumo y me obligue a pagar.  </li>
		<li>	El espacio correspondiente a la fecha en que se debe hacer el pago, se llenara con la fecha correspondiente al día en que sea llenado el pagaré, fecha que se entiende que es la de su vencimiento. </li>
		<li>	La mora o el simple retardo causará intereses a la más alta tasa permitida por la Ley en el momento de llenarse el pagaré, certificada por la Superintendencia Financiera o a la autoridad que corresponda. </li>
		<li>	El lugar para el pago de la deuda corresponde a la ciudad donde se haya presentado la solicitud de crédito y/o en su defecto en el domicilio principal de EL ACREEDOR. </li>
		<li>	Si se presenta incumplimiento simple retardo en el pago de las obligaciones a nuestro cargo, EL ACREEDOR, podrá declarar extinguido el plazo y de esta manera exigir anticipadamente, extrajudicial o judicialmente, sin necesidad de requerimiento judicial alguno, el pago de la totalidad del saldo insoluto de la obligación incorporada en el presente pagaré, así como los intereses, los gastos de cobranza, incluyendo los honorarios de abogados que hayan sido pactados por EL ACREEDOR y las demás obligaciones a mi cargo constituidas a favor de EL ACREEDOR. Expresamente declaramos excusada la presentación para el pago, el aviso de rechazo y el protesto y por ende autorizamos a <b>  CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF </b>	o por quien haga sus veces, para dar por terminado el plazo de la obligación y cobrarla judicial o extrajudicialmente, en el evento en que la obligación principal se encuentra amenazada. 		</li>
		<li>	Las instrucciones y demás autorizaciones que por medio de esta carta hayan sido dadas a <b>  CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF</b> o por quien haga sus veces, se entienden de igual manera otorgadas al tenedor legítimo del pagaré o a quien en el futuro ostente a calidad de acreedor del título. 		</li>
		<li>	Declaramos además que, conocemos la totalidad del pagaré y los reglamentos que rigen el presente título que se me ha otorgado, los cuales aceptamos, sin reserva alguna. </li>
	</ol>

	Las presentes instrucciones las imparto de conformidad con lo dispuesto en el artículo 622 inciso 2° del Código de Comercio, para todos los efectos allí previstos.
	<br>
	Una vez leído y aceptado el presente documento, firmamos en Pereira, a los ___________(____) días del mes de _________________ del año ________.
	<br><br>
	</p>
	<div style="width: 100% ">
		<p style="width: 40%;float: left;">
			<b>
				FIRMA: _______________________<br>
				Nombre: _______________________<br>
				C.C. No. _______________________<br>
				Dirección: _______________________<br>
				Teléfonos:_______________________<br>
			</b>
			<img src="../public/img/huella_estudiante.webp" style="height: 200px">	
		</p>	
		<p style="width: 40%;float: left;">
			<b>
				FIRMA: _______________________<br>
				Nombre: _______________________<br>
				C.C. No.:_______________________<br>
				Dirección:_______________________<br>
				Teléfonos:_______________________ <br>
				<img src="../public/img/huella_codeudor.webp" style="height: 200px">	
			</b>	
		</p>
	</div>
</div>
`;
var pagare = `
<div style="page-break-before:always; width:100%; -ms-word-break:break-all; word-break:break-all; word-break:break-word; -webkit-hyphens:auto; -moz-hyphens:auto; -ms-hyphens:auto; hyphens:auto; ">

	<h5 style="width: 100%;text-align: right"><b><img src="../public/img/logo.webp"></b></h5>
	<h5 style="width: 100%;text-align: center"><b>PAGARE A LA ORDEN N°. </b></h5>
    <br>
	<p style="text-align: justify; font-size:15px">
		Yo (Nosotros): _________________________________________________________________ mayor de edad, identificado con cédula de ciudadanía N°. ___________________________ expedida en ____________ , con domicilio en __________________, actuando en nombre propio  y en calidad de estudiante y DEUDOR y _________________________________________________________________ mayor de edad, identificado con cédula de ciudadanía N°. ___________________________ expedida en ____________ , con domicilio en __________________, actuando en nombre propio  y en calidad de CODEUDOR, por medio del presente pagaré, declaramos y hacemos constar: 
		<br>
		<b> PRIMERO: Objeto:</b> Que por virtud del presente título valor pagaremos incondicional y solidariamente, en el domicilio principal y a la orden de <b> CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF </b>, identificada con NIT 891.408.248-5 y quien en lo adelante se denominará, “EL ACREEDOR”, o por quien represente legalmente sus derechos, la suma cierta de: ___________________________________DE PESOS M/CTE ($ ______________), más los intereses señalados en la cláusula tercera de este documento, en la ciudad de Pereira.  
        <br>
		<b>SEGUNDO: Plazo.</b> Que pagaremos la suma indicada en la cláusula anterior a favor de <b>CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF </b>, en el número de cuotas que se haya pactado y establecido en el documento denominado “Plan de Pagos” que hace parte integral de este pagaré. En caso que durante el plazo señalado para el cumplimiento de la obligación, se pactare cualquier prorroga, esta no podrá interpretarse como una novación de las obligaciones y por tanto ninguna de las cláusulas pactadas sufrirá modificación alguna.
        <br>
		<b>TERCERO: Intereses:</b> Durante el plazo, EL DEUDOR, pagará intereses, correspondientes al  ________ (  ____%). En caso, en que el pago se efectúe después de la fecha antes convenida, deberá pagarle a EL ACREEDOR o a la persona natural o jurídica a quien el mencionado acreedor ceda o endose sus derechos, interés de mora sobre los saldos vencidos a la más alta tasa permitida por la Ley desde el día siguiente a la fecha de exigibilidad del presente título y hasta cuando se efectúe su pago total, así como a cualquier otra suma que se derive de ella o sea complemento de ella, sin perjuicio de las demás acciones legales que EL ACREEDOR pueda ejercer para el cobro de la deuda.
        <br>
		<b>CUARTO: Cláusula Aceleratoria:</b> Que reconozco de antemano el derecho que le asiste a EL ACREEDOR, para que en los eventos que a continuación se detallan, pueda declarar extinguido el plazo y de esta manera exigir anticipadamente, extrajudicial o judicialmente, sin necesidad de requerimiento alguno, el pago de la totalidad del saldo insoluto de la obligación incorporada en el presente pagaré, así como sus intereses, los gastos de cobranza, incluyendo los honorarios de los abogados que hayan sido pactados por EL ACREEDOR y las demás obligaciones a cargo de EL DEUDOR constituidas a favor de EL ACREEDOR.: (i) En caso de mora en el pago de una o cualquiera de las cuotas de capital estipulados, así se haya otorgado período de gracia para el pago de dicho capital; (ii) Cuando EL DEUDOR se retire de sus estudios académicos antes de finalizar el respectivo período lectivo, independientemente de la causa que haya motivado dicho retiro; (iii) Cuando EL DEUDOR y/o CODEUDOR sean demandados judicialmente, conjunta o separadamente por cualquier persona y mediante el ejercicio de cualquier acción, o se les inicie trámite de liquidación obligatoria, o se les someta a cualquiera de las modalidades de procesos concursales reconocidos por la ley colombiana; (iv) Cuando la información comercial y financiera actualizada que posea <b>CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF </b>, y/o la información proveniente de las centrales de riesgo, permitan establecer que se ha alterado o mermado sustancialmente la solvencia y capacidad de pago del DEUDOR y/o CODEUDOR, que a juicio de <b>CORPORACIÓN INSTITUTO DE ADMINISTRACIÓN Y FINANZAS –CIAF </b>, pongan en peligro el pago de las obligaciones de restituir las sumas de dinero objeto del crédito. V) El giro de cheques sin provisión de fondos. 
        <br>
		<b>QUINTO: Autorización Reporte Información:</b> Autorizamos expresamente a EL ACREEDOR para consultar y reportar la información sobre el comportamiento de EL DEUDOR y /O CODEUDOR, frente a las obligaciones adquiridas. En consecuencia, quienes se encuentren afiliados y/o tengan acceso a la central de Información correspondiente, podrán conocer esta información, de conformidad con la legislación y jurisprudencia aplicable. 
        <br>
		<b>SEXTO:</b> Expresamente declaro excusado el protesto del presente pagaré y renuncio a los requerimientos judiciales y extrajudiciales para la constitución en mora en caso de retraso o incumplimiento total o parcial de la obligación. 
        <br>
		<b>SÉPTIMO:</b> Que desde ahora, como deudor, acepto cualquier cesión o endoso que de este pagaré haga EL ACREEDOR a cualquier persona, o la persona natural o jurídica a quién el mencionado acreedor ceda o endose sus derechos
        <br>
		<b>OCTAVO: Gastos:</b> Todos los gastos en que se incurran por la ejecución del presente título, tales como honorarios de abogado, costas y agencias en derecho correrán a cargo de EL DEUDOR y/O CODEUDOR. 
        <br><br>
		Una vez leído y aceptado el presente documento, firmamos en Pereira, a los ___________(____) días del mes de _________________ del año ________.
	</p>
	<div style="width: 100% ">
		<p style="width: 40%;float: left;">
			<b>
				FIRMA: _______________________<br>
				Nombre: _______________________<br>
				C.C. No. _______________________<br>
				Dirección: _______________________<br>
				Teléfonos:_______________________<br>
			</b>
			<img src="../public/img/huella_estudiante.webp" style="height: 190px">	
		</p>	
		<p style="width: 40%;float: left;">
			<b>
				FIRMA: _______________________<br>
				Nombre: _______________________<br>
				C.C. No.:_______________________<br>
				Dirección:_______________________<br>
				Teléfonos:_______________________ <br>
				<img src="../public/img/huella_codeudor.webp" style="height: 190px">	
			</b>	
		</p>
	</div>
</div>
`;
//toma la fecha de hoy y dependiendo del fly genera dos tipos de formato
function getDatennow(flag){
	var today = new Date(Date.now());
	var dd = today.getDate();
	var mm = today.getMonth() + 1; //January is 0!
	var yyyy = today.getFullYear();
	var hh = today.getHours();
	var mi = today.getMinutes();
	var ss = today.getSeconds();
	if (dd < 10) {
	  dd = '0' + dd;
	} 
	if (mm < 10) {
	  mm = '0' + mm;
	}
	if (mi < 10) {
	  mi = '0' + mi;
	} 
	if (hh < 10) {
	  hh = '0' + hh;
	} 
	if (ss < 10) {
	  ss = '0' + ss;
	}

	if(flag){
		var days = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];
		const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
  		"Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
		var date = days[today.getDay()]+' '+ dd +' de ' + monthNames[today.getMonth()]+' del '+ yyyy ;
		//today = dd + '/' + mm + '/' + yyyy+ " Hora:  " + hh + ":" + mi + ":" + ss;
		return date;
	}else{
		date = yyyy + '-' + mm + '-'+dd ;
		return date;
	}				
}
//Aquí recibimos la informacion que llega del ajax y la insertamos en el texto 
function insertarInfoPlan(datosCertificado){
    //declaramos variables
    var dia_pago, numero_cuotas, header, footer;
    //dependiendo del dia de pago se define si se debe multiplicar por 1 o por 2
    if(datosCertificado.dia_pago  == 'Mensual'){
        dia_pago = 1;
    }else{
        dia_pago = 2;
    }
    //el numero de cuuotas es la multiplicacion del tiempo en meses por las cuotas 
    numero_cuotas = parseInt(datosCertificado.cantidad_tiempo) * parseInt(dia_pago);
    //agregamos el consecutivo a la carta
    carta_instrucciones.replaceAll('PAGARÉ No.', 'PAGARÉ No. '+datosCertificado.id);
    //agregamos el consecutivo al pagare
	pagare.replaceAll('PAGARE A LA ORDEN N°.', 'PAGARE A LA ORDEN N°. '+datosCertificado.id);
    //header que llevara el pagara y la carta, estos tienen unos datos necesarios, por ello se debe hacer consulta a la base de datos
    header = `<div style="padding:0px; margin: 0px;margin-bottom: 20; width: 100%; border: 1px solid #dddddd;float: left;"><div style="width:50%;float:left; border:1px solid #dddddd;padding: 0px; margin: 0px;">
		<div style="width: 49%; margin-right:1%; float: left; border:1px solid #dddddd;padding: 0px; margin: 0px;border-right:2px solid #dddddd">
			<img src="../public/img/logo.webp" width="100%">
		</div>
	<div style="width: 50%; text-align: center; float: left; font-weight: bolder;padding-top: 25px;padding-bottom: 25px;font-size:18px; margin: 0px;">FORMATO</div>
	</div>
		<div style="width: 50%;float:left; border-top:1px solid #dddddd;border-left:1px solid #dddddd;border-right:1px solid #dddddd;padding: 0px; margin: 0px;">
			<div style="width: 100%; text-align: center; float: left; font-weight: bolder; margin: 0px; padding-top: 15;padding-bottom: 13;">
				Versión : 1.0
			</div> 
			<div style="width: 100%; text-align: center; float: left; font-weight: bolder; margin: 0px; padding-top: 17;">
				Código: PDP-001
			</div>
		</div>
		<div style="padding: 0px;text-align: center;font-weight: bolder; margin: 0px; border: 1px solid #dddddd;float: left; width: 50%;padding-left: 30;padding-right: 30;"> 
			PLAN DE PAGOS 
		</div>
		<div style=" width:50%; text-align: center; float: left; font-weight: bolder; margin: 0px; padding-top: 16;padding-bottom: 5; border-bottom:1px solid #dddddd;border-left:1px solid #dddddd;border-right:1px solid #dddddd;">
			`+getDatennow(1)+` 
		</div>
	</div><div style="padding: 0px; margin: 0px; width: 100%; border: 1px solid #dddddd;margin-bottom: 20;float: left;"><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; font-weight: bolder">NOMBRE COMPLETO DEL ESTUDIANTE</div><div style="padding: 1px; margin: 0px; width: 65%; border: 1px solid #dddddd;float: left; font-weight: bolder">`+datosCertificado.nombres+` `+datosCertificado.apellidos+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; ">CÓDIGO</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.id+`</div><div style="padding: 1px; margin: 0px; width: 25%; border: 1px solid #dddddd;float: left; ">CC</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.numero_documento+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; ">TELÉFONOS</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.telefono+`</div><div style="padding: 1px; margin: 0px; width: 25%; border: 1px solid #dddddd;float: left; ">CELULAR</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.celular+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; font-weight: bolder">NOMBRE `+((datosCertificado.labora == "SI")?"REFERENCIA":"CODEUDOR")+`</div><div style="padding: 1px; margin: 0px; width: 65%; border: 1px solid #dddddd;float: left; font-weight: bolder">`+datosCertificado.nombre_codeudor+` `+((typeof datosCertificado.apellido_codeudor === "undefined")?" ":datosCertificado.apellido_codeudor)+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; ">TELÉFONOS</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.telefono_codeudor+`</div><div style="padding: 1px; margin: 0px; width: 25%; border: 1px solid #dddddd;float: left; ">CELULAR</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.celular_codeudor+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; font-weight: bolder">VALOR TOTAL DE LA MATRÍCULA</div><div style="padding: 1px; margin: 0px; width: 65%; border: 1px solid #dddddd;float: left; font-weight: bolder">$ `+new Intl.NumberFormat().format(datosCertificado.valor_total)+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; ">VALOR A FINANCIAR</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">$ `+new Intl.NumberFormat().format(datosCertificado.valor_financiacion)+`</div><div style="padding: 1px; margin: 0px; width: 25%; border: 1px solid #dddddd;float: left; ">A CUÁNTO TIEMPO</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.cantidad_tiempo+` MESES</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left; ">FORMA DE PAGO</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+datosCertificado.dia_pago+`</div>	<div style="padding: 1px; margin: 0px; width: 25%; border: 1px solid #dddddd;float: left; ">NO. CUOTAS</div><div style="padding: 1px; margin: 0px; width: 20%; border: 1px solid #dddddd;float: left;">`+numero_cuotas+`</div><div style="padding: 1px; margin: 0px; width: 35%; border: 1px solid #dddddd;float: left;">FECHA PLAN DE PAGOS</div><div style="padding: 1px; margin: 0px; width: 65%; border: 1px solid #dddddd;float: left; ">`+datosCertificado.fecha_inicial+`</div></div>`;
    //footer que llevara el pagare y la carta de instrucciones
	footer = '<h5 style="margin-top: 15; font-weight:bolder">El retraso en el pago de las cuotas generará intereses de mora a partir de 3 días seguidos sobre la tasa máxima autorizada por la Superintendencia Financiera.</h5><div style="margin-top: 10; font-weight:bolder">Se firma en la ciudad de 	________________________ a los (________) ____________________ días del mes de (________) ___________________________ del año ___________________.</div><div style="margin-top: 15; font-weight:bolder"> 	<div style="float:left; width: 49%;">		<p style="float:left; width: 20%;margin-right:5%"> FIRMA </p>		<p style="border-bottom:1px solid black; float:left; width:70%; height:20px"> </p> 	</div>	<div style="float:left; width: 49%;">		<p style="float:left; width: 20%; margin-left:5%;"> FIRMA </p>		<p style="border-bottom:1px solid black; float:left; width:70%; height:20px"> </p>	</div>	<div style="float:left; width: 49%;">		<p style="float:left; width: 20%;  margin-right:5%"> IDENTIFICACIÓN </p>		<p style="border-bottom:1px solid black; float:left; width:70%; height:20px"> </p>	</div>	<div style="float:left; width: 49%;">		<p style="float:left; width: 25%; margin-left:5%; "> IDENTIFICACIÓN </p>		<p style="border-bottom:1px solid black; float:left; width:70%; height:20px"> </p></div><b> Recuerda que aceptada y firmada la financiación ya asumes como tal un crédito con la institución. Cabe resaltar que si te retiras antes de iniciar clase debes de asumir el 20% del valor del semestre por el proceso de tu inscripción y matrícula; dado el caso que las clases den inicio y posteriormente deseas retirarte debes de asumir el valor del 100% del semestre. </b> </div>' + carta_instrucciones.replaceAll('PAGARÉ No.', 'PAGARÉ No. ' + datosCertificado.id) + " " + pagare.replaceAll('PAGARE A LA ORDEN N°.', 'PAGARE A LA ORDEN N°. '+datosCertificado.id);
    return {footer: footer, header: header};
}